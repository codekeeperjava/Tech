## popup windows

实现popup windows 花了不少力气。虽然有现行的windows特性的支持，但popup windows

的复杂程度要求更多的代码逻辑，特别是，不但要高效地渲染界面，还要对插件开发者友好

。插件开发者不需要非常具体地告诉vim在哪里显示window，仅需给出一个位置参考点和

需要显示的内容就好了。vim会自行决定最好的显示大小和显示位置。

## text property

text property使用起来可复杂可简单，例如：高亮某代码片段、使用额外的工具解析定位

后再高亮的片段。同时，这些东西实现起来是异步的。

text property 可以用来取代 匹配高亮，在文本输入前，text property 与文本粘在一起，

因为是跟文本一同存储起来的，所以在渲染上十分的高效。

译者注：匹配高亮，每次刷新界面都要使用对应规则匹配出需要高亮的地方后再渲染。

text property的意思说: 输入或打开时就使用对应规则匹配，然后存储起来，每次刷新就

直接读取，然后渲染即可。

text property的 “修改事件”，可以跟踪文本的变化，使其可以不断地改变高亮规则。

这也可以同时用于实现一些LSP的功能。“govim” 插件就是一个很好的实现例子，其运行时，

连接了一个服务端（用go写的，也就是“gopls”），其 实现的效果可以看下面。
